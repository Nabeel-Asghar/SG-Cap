(this.webpackJsonpsgcapfrontend=this.webpackJsonpsgcapfrontend||[]).push([[0],{189:function(t,e,a){},190:function(t,e,a){},357:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(74),i=a.n(s),o=(a(189),a(190),a(18)),c=a(156),l=a(157),u=a(158),d=a(179),h=a(161),b=a.n(h),m=(a(87),a(162)),j=a.n(m),p=(a(220),a.p+"static/media/generic-cover.9efb5c56.jpg"),g=a(8);var f=function(t){var e=t.covers;return Object(g.jsx)(j.a,{additionalTransfrom:0,arrows:!0,autoPlay:!0,autoPlaySpeed:2e3,className:"",containerClass:"container-with-dots",dotListClass:"",draggable:!0,focusOnSelect:!1,infinite:!0,itemClass:"",keyBoardControl:!0,minimumTouchDrag:80,renderButtonGroupOutside:!1,renderDotsOutside:!1,centerMode:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:5,partialVisibilityGutter:40}},showDots:!1,sliderClass:"",slidesToSlide:2,swipeable:!0,children:e&&e.map((function(t){return Object(g.jsx)("a",{href:t.link,target:"_blank",children:t.coverId?Object(g.jsx)("img",{src:t.coverId,style:{minHeight:"100%",width:"95%"}},t.coverId):Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("img",{src:p,style:{minHeight:"100%",width:"95%"}}),Object(g.jsx)("div",{className:"centered",children:"".concat(t.title," by ").concat(t.author)})]})})}))})},v=a(359),O=a(363),x=a(176),y=a(177),S=a(63),C=a(180);var D=function(t){var e=t.chartData;return t.chartData&&Object(g.jsxs)(v.a,{width:750,height:500,data:e,margin:{top:5,right:30,left:20,bottom:5},onMouseOver:function(e){return e&&t.handleChartClick(e.activePayload[0])},style:{margin:"0 auto"},children:[Object(g.jsx)(O.a,{strokeDasharray:"3 3"}),Object(g.jsx)(x.a,{dataKey:"name"}),Object(g.jsx)(y.a,{}),Object(g.jsx)(S.a,{}),Object(g.jsx)(C.a,{dataKey:"results",fill:"#338f4d"})]})},k=a(108);var R=function(t){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"form__group field",children:Object(g.jsxs)("form",{onSubmit:t.onSubmit,children:[Object(g.jsx)("input",{type:"input",className:"form__field",placeholder:"Name",name:"name",id:"name",required:!0,value:t.value,onChange:t.onChange}),Object(g.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"}),Object(g.jsx)(k.a,{color:"green",type:"submit",idleText:"Submit",style:{borderRadius:"5px",margin:"15px 0px 0px 0px"},size:"normal",messageDuration:2e3,width:"100%",animation:!0,buttonState:t.buttonState})]})}),t.chartData&&Object(g.jsx)("div",{className:"form__group field",children:Object(g.jsx)("form",{onSubmit:t.onSubmit1,children:Object(g.jsx)(k.a,{color:"dark",type:"submit",idleText:"Get More Results ".concat(t.currentResults," / ").concat(t.totalResults,"\n              "),style:{borderRadius:"5px",marginBottom:"30px"},size:"normal",messageDuration:2e3,width:"100%",animation:!0,buttonState:t.buttonState,disabled:t.currentResults===t.totalResults})})})]})},_=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).handleQueryChange=function(t){t.preventDefault(),n.setState({query:t.target.value})},n.getFromApi=function(t,e,a){t.preventDefault(),a&&n.setState({currentResults:0,covers:[]}),n.setState({loading:"loading"}),b.a.get("https://openlibrary.org/search.json",{params:{q:n.state.query,page:e}}).then((function(t){if(t){var a=t.data.numFound,r=1===e?{}:n.state.data,s=n.state.currentResults;a>0&&t.data.docs.forEach((function(t){s+=1;var e=10*parseInt(t.first_publish_year/10,10),a={title:t.title,author:t.author_name?t.author_name[0]:"Unknown",year:t.first_publish_year,link:"https://openlibrary.org"+t.key,coverId:t.cover_i?"https://covers.openlibrary.org/b/id/"+t.cover_i+"-M.jpg":null};e?r[e]?r[e].push(a):r[e]=[a]:r.Unknown?r.Unknown.push(a):r.Unknown=[a]})),n.setState({currentResults:s,totalResults:a,data:r,page:e},(function(){return n.setChartData()}))}})).finally((function(){return n.setState({loading:"idle"})}))},n.getMoreData=function(t){n.getFromApi(t,n.state.page+1)},n.setChartData=function(){for(var t=n.state.data,e=[],a=0,r=Object.entries(t);a<r.length;a++){var s=Object(o.a)(r[a],2),i=s[0],c=s[1];e.push({name:String(i),results:c.length})}n.setState({chartData:e})},n.handleChartClick=function(t){var e=n.state.data[t.payload.name];n.setState({covers:e})},n.state={query:"",totalResults:null,currentResults:0,data:{},chartData:null,page:1,covers:[],loading:"idle"},n}return Object(l.a)(a,[{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{className:"homeContainer",children:[Object(g.jsx)("h6",{children:"OpenLibrary Search by Nabeel Asghar"}),Object(g.jsx)(R,{onSubmit:function(e){return t.getFromApi(e,1,!0)},value:this.state.query,onChange:this.handleQueryChange,buttonState:this.state.loading,chartData:this.state.chartData,onSubmit1:function(e){return t.getMoreData(e)},currentResults:this.state.currentResults,totalResults:this.state.totalResults}),Object(g.jsx)("div",{className:"graph-container",children:Object(g.jsx)(D,{chartData:this.state.chartData,handleChartClick:this.handleChartClick})}),Object(g.jsx)(f,{covers:this.state.covers})]})}}]),a}(n.Component);var w=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(_,{})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,365)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),s(t),i(t)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),N()},87:function(t,e,a){}},[[357,1,2]]]);
//# sourceMappingURL=main.ce24849b.chunk.js.map